---
title: æœ¬ç«™ - é¦–é¡µå¤§å›¾æ¨¡å—
date: 2022-01-12 23:35:41
permalink: /about/website/index-big-img/
titleTag: åŸåˆ›
categories:
  - å…³äº - æœ¬ç«™
tags: 
  - æœ¬ç«™
---

::: note

ä½ æ˜¯å¦æ›¾è¿›å…¥ä»–äººçš„åšå®¢åï¼Œå æ®æµè§ˆå™¨å¤§å±çš„å›¾ç‰‡æ˜ å…¥çœ¼å¸˜ï¼Œå¦‚æœä½ ä¹Ÿå–œæ¬¢è¿™ç§æ ·å¼ï¼Œæœ¬å†…å®¹å°†ä»‹ç»å¦‚ä½•å®ç°ã€‚

::: right

2021-01-11 @Young Kbt

:::

[[TOC]]



## å‰è¨€

æ­¤æ—¶æˆ‘ç›¸ä¿¡ä½ æ˜¯ç›´æ¥ä»æˆ‘çš„é¦–é¡µè¿›å…¥è¯¥æ–‡ç« ï¼Œè€Œä¸æ˜¯é€šè¿‡åœ°å€æ ç›´è¾¾æ­¤å¤„ï¼Œå½“ç„¶ï¼Œå¦‚æœä½ æ˜¯ç›´è¾¾ï¼Œå¯ä»¥æµè§ˆä¸€ç•ªæœ¬å†…å®¹ä»‹ç»çš„å¤§å›¾æ¨¡å—ï¼Œ[ç‚¹å‡»è·³è½¬](/)ã€‚



æœ¬å†…å®¹åˆ†ä¸ºä¸¤æ­¥ï¼ˆä¸ºäº†èŠ‚çœæ­¥éª¤ï¼ŒåŸæœ¬ä¸‰æ­¥ ğŸ¤£ï¼‰ï¼š

- åœ¨ docs/index.md æ·»åŠ æ¨¡æ¿
- åœ¨ docs/.vuepress/config.jsï¼ˆæ–°ç‰ˆ config.tsï¼‰çš„ themeConfig ä¸­é…ç½®

## æ¨¡æ¿æ·»åŠ 

æ‰“å¼€ docs/index.md æ–‡æ¡£ï¼Œé¦–å…ˆåœ¨ frontmatter æ·»åŠ ä¸€ä¸ªè‡ªå®šä¹‰ç±»ï¼š

```yml
---
pageClass: vdoing-index-class
---
```

ç„¶åæ»‘åˆ°æ–‡æ¡£çš„æœ€ä¸‹æ–¹ï¼Œæ·»åŠ æ¨¡æ¿ä»£ç ï¼š

```vue
<script>
// ä¸¤ä¸ªå˜é‡åˆ†åˆ«æ˜¯èƒŒæ™¯å…ƒç´ çš„ classã€ç”Ÿæˆçš„ç®­å¤´ class
const banner = 'banner';
const banner_arrow = 'banner-arrow';
export default {
  mounted () {
    const arrow = document.getElementById(banner_arrow);
    arrow && arrow.parentNode.removeChild(banner_arrow);
    let a = document.createElement('a');
    a.id = banner_arrow;
    a.className = banner_arrow;
    document.getElementsByClassName(banner)[0].append(a);
    let targetA = document.getElementById(banner_arrow);
    targetA.addEventListener('click', e => { // æ·»åŠ ç‚¹å‡»äº‹ä»¶
      this.scrollFn();
    });
    let textColor = 1;  // å¯¼èˆªæ å­—ä½“é¢œè‰²ï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œè¯·åœ¨ themeConfig è¿›è¡Œé…ç½®ï¼Œä¸å»ºè®®ä¿®æ”¹æ­¤å¤„
    let switchColor = true;  // ç¦»å¼€å›¾ç‰‡æ˜¯å¦åˆ‡æ¢é¢œè‰²ï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œè¯·åœ¨ themeConfig è¿›è¡Œé…ç½®ï¼Œä¸å»ºè®®ä¿®æ”¹æ­¤å¤„
    if(this.$themeConfig.indexImg && Object.keys(this.$themeConfig.indexImg).length > 0){
      textColor = this.$themeConfig.indexImg.textColor == undefined ? 1 : this.$themeConfig.indexImg.textColor;
      switchColor = this.$themeConfig.indexImg.switchColor == undefined ? true : this.$themeConfig.indexImg.switchColor;
    }
    // åˆå§‹åŒ–
    this.noBgBlur();
    this.blurText(textColor);
    this.watchScroll(textColor, switchColor);
  },
  methods: {
    scrollFn() {
      const windowH = document.getElementsByClassName(banner)[0].clientHeight; // è·å–çª—å£é«˜åº¦
      window.scrollTo({
        top: windowH,
        behavior: 'smooth'   // å¹³æ»‘æ»šåŠ¨
      })
    },
    // ç›‘å¬é¡µé¢æ»šåŠ¨çš„å›è°ƒ
    watchScroll(textColor, switchColor){
      const windowH = document.getElementsByClassName(banner)[0].clientHeight; // è·å–çª—å£é«˜åº¦
      window.onscroll = () => {
        if(document.documentElement.scrollTop < windowH){
          this.blurText(textColor);
          this.noBgBlur();
        }else{
          if(switchColor && textColor == 1){
            this.blurText(2);
          }else if(switchColor && textColor == 2){
            this.blurText(1);
          }
          this.bgBlur();
        }
      }
    },
    // å¯¼èˆªæ ä¸é€æ˜
    bgBlur(){
      let navbar = document.getElementsByClassName('navbar')[0];
      navbar.className = "navbar navbar1 blur";
    },
    // å¯¼èˆªæ é€æ˜
    noBgBlur() {
      let navbar = document.getElementsByClassName('navbar')[0];
      navbar.className = "navbar navbar2 blur";
    },
    // å¯¼èˆªæ çš„å­—ä½“é¢œè‰²
    blurText(textColor){
      let title = document.getElementsByClassName('site-name')[0];
      let search = document.getElementsByClassName('search-box')[0];
      let nav = document.getElementsByClassName('nav-links')[0];
      if(textColor == 1){
        title.className = "site-name site-name1 can-hide";
        nav.className = "nav-links nav-links1 can-hide";
        search.className = "search-box search-box1";
      }else if(textColor == 2){
        title.className = "site-name site-name2 can-hide";
        nav.className = "nav-links nav-links2 can-hide";
        search.className = "search-box search-box2";
      }
    },
  }
}
</script>
<style>
/* å›¾ç‰‡å¤§å° */
.home-wrapper .banner{
  margin-top: 0 !important;
  height: 100vh;
}
/* å›¾ç‰‡ä¸­é—´çš„ç­¾åå’Œæ ‡é¢˜ä½ç½® */
.banner-conent{
  margin-top: 10vh !important;
}
/* ä¸‹é¢æ˜¯é…åˆ js ç”¨çš„ class æ ·å¼ */
.vdoing-index-class .navbar1{
  background-color: var(--blurBg);
  box-shadow: 0 2px 5px rgba(0,0,0,.06);
  backdrop-filter: saturate(200%) blur(20px);
}
.vdoing-index-class .navbar2{
  background-color: transparent;
  box-shadow: none;
  backdrop-filter: none;
}
.vdoing-index-class .nav-links1 > .nav-item > a,  /* æ²¡æœ‰äºŒçº§å¯¼èˆªçš„ä¸€çº§å¯¼èˆª */
.vdoing-index-class .nav-links1 > a,   /* GitHub */
.vdoing-index-class .nav-links1 .dropdown-title a:hover,   /* é¼ æ ‡æ‚¬åœ */
.vdoing-index-class .nav-links1 .title,     /* ä¸èƒ½è·³è½¬çš„ä¸€çº§å¯¼èˆª */
.vdoing-index-class .nav-links1 .dropdown-title > .link-title,  /* èƒ½è·³è½¬çš„ä¸€çº§å¯¼èˆª */
.vdoing-index-class .site-name1  /* å·¦ä¾§çš„åå­— */
{
  color: var(--textColor) !important;
}
.vdoing-index-class .search-box1 input{
  border-color: var(--textColor) !important;
  color: var(--textColor) !important;
}
.vdoing-index-class .nav-links2 > .nav-item > a,  /* æ²¡æœ‰äºŒçº§å¯¼èˆªçš„ä¸€çº§å¯¼èˆª */
.vdoing-index-class .nav-links2 > a,   /* GitHub */
.vdoing-index-class .nav-links2 .dropdown-title a:hover,   /* é¼ æ ‡æ‚¬åœ */
.vdoing-index-class .nav-links2 .title,     /* ä¸èƒ½è·³è½¬çš„ä¸€çº§å¯¼èˆª */
.vdoing-index-class .nav-links2 .dropdown-title > .link-title,  /* èƒ½è·³è½¬çš„ä¸€çº§å¯¼èˆª */
.vdoing-index-class .site-name2  /* å·¦ä¾§çš„åå­— */
{
  color: #fff !important;
}
.vdoing-index-class .search-box2 input{
  border-color: #fff !important;
  color: #fff !important;
}
/* ä¸‹é¢æ˜¯ç®­å¤´ç›¸å…³çš„æ ·å¼ */
.banner-arrow {
  display: block;
  margin: 12rem auto 0;
  bottom: 45px;
  width: 20px;
  height: 20px;
  font-size: 34px;
  text-align: center;
  animation: bounce-in 5s 3s infinite;
  position: absolute;
  left: 50%;
  bottom: 15%;
  margin-left: -10px;
  cursor: pointer;
  z-index: 99;
}
@-webkit-keyframes bounce-in{
  0%{transform:translateY(0)}
  20%{transform:translateY(0)}
  50%{transform:translateY(-20px)}
  80%{transform:translateY(0)}
  to{transform:translateY(0)}
}
.banner-arrow::before {
  content: "";
  width: 20px;
  height: 20px;
  display: block;
  border-right: 3px solid #fff;
  border-top: 3px solid #fff;
  transform: rotate(135deg);
  position: absolute;
  bottom: 10px;
}
.banner-arrow::after {
  content: "";
  width: 20px;
  height: 20px;
  display: block;
  border-right: 3px solid #fff;
  border-top: 3px solid #fff;
  transform: rotate(135deg);
}
</style>
```

æ³¨é‡Šå·²ç»æœ‰è¯´æ˜ï¼Œä½†æ˜¯æœ‰ä¸¤ä¸ªé…ç½®å»ºè®®åœ¨ `themeConfig` ä¸­é…ç½®ï¼Œå…¶ä»–éšæ„ã€‚

## é…ç½®æ·»åŠ 

æ‰“å¼€ docs/.vuepress/config.jsï¼ˆæ–°ç‰ˆ config.tsï¼‰æ–‡ä»¶ï¼Œåœ¨ `themeConfig` æ¨¡å—é‡Œæ·»åŠ å¦‚ä¸‹ä»£ç ï¼ˆè¿™æ˜¯æˆ‘çš„é…ç½®ï¼‰ï¼š

```js
// é¦–é¡µå¤§å›¾ç‰‡é…ç½®
indexImg: {
  textColor: 2,    // å¯¼èˆªæ å·¦ä¾§åå­—ã€ä¸­é—´æœç´¢æ¡†ã€å³ä¾§å­—ä½“é¢œè‰²ï¼Œ1 æ˜¯é»‘è‰²ï¼Œ2 æ˜¯ç™½è‰²ã€‚é»˜è®¤æ˜¯ 1
  switchColor: true,    // ç•Œé¢ç§»å‡ºå¤§å›¾åï¼ŒtextColor æ˜¯å¦å˜æ¢ï¼Œå¦‚ç”±ç™½è‰²å˜é»‘è‰²ï¼Œé»‘è‰²å˜ç™½è‰²ã€‚é»˜è®¤æ˜¯ false
  // å› ä¸ºæœ¬ä¸»é¢˜çš„é»˜è®¤èƒŒæ™¯è‰²åå‘ç™½è‰²ï¼Œå¦‚æœ textColor æ˜¯ 2ï¼Œå»ºè®®éœ€è¦å¼€å¯(true)ï¼Œå¦åˆ™ç™½èƒŒæ™¯ + ç™½å­—ä½“ = çœ‹ä¸è§
},
```

## ç»“æŸè¯­

å¦‚æœä½ è¿˜æœ‰ç–‘æƒ‘ï¼Œå¯ä»¥å»æˆ‘çš„ GitHub ä»“åº“æˆ–è€… Gitee ä»“åº“æŸ¥çœ‹æºç ã€‚

GitHubï¼š<https://github.com/Kele-Bingtang/Kele-Bingtang.github.io>

Giteeï¼š<https://gitee.com/kele-bingtang/Kele-Bingtang>

å¦‚æœä½ æœ‰æ›´å¥½çš„æ–¹å¼ï¼Œè¯„è®ºåŒºç•™è¨€å‘Šè¯‰æˆ‘ï¼Œè°¢è°¢ï¼

